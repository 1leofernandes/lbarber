// VISUALIZAÃ‡ÃƒO DO FLUXO DE AGENDAMENTO
// ===================================

## FLUXO 1: CLIENTE VISUALIZA HORÃRIOS

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Cliente       â”‚ "Quero agendar um corte com JoÃ£o amanhÃ£"
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Frontend JavaScript                  â”‚
    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
    â”‚ Coleta:                              â”‚
    â”‚ - Barbeiro ID: 1 (JoÃ£o)              â”‚
    â”‚ - Data: 2024-01-16                   â”‚
    â”‚ - ServiÃ§o ID: 3 (Corte 30min)        â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â”‚ GET /agendamentos/disponiveis?
             â”‚     barbeiro_id=1&
             â”‚     data_agendada=2024-01-16&
             â”‚     servico_id=3
             â”‚
             â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Backend - Servidor Node.js  â”‚
    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
    â”‚ 1. Query database:          â”‚
    â”‚    - duracao_servico = 30   â”‚
    â”‚                             â”‚
    â”‚ 2. Find bloqueios:          â”‚
    â”‚    SELECT * FROM bloqueios  â”‚
    â”‚    WHERE id_barbeiro=1 AND  â”‚
    â”‚    data='2024-01-16'        â”‚
    â”‚    Result: [] (nada)        â”‚
    â”‚                             â”‚
    â”‚ 3. Find agendamentos:       â”‚
    â”‚    SELECT * FROM            â”‚
    â”‚    agendamentos WHERE       â”‚
    â”‚    barbeiro_id=1 AND        â”‚
    â”‚    data='2024-01-16'        â”‚
    â”‚    Result:                  â”‚
    â”‚    - 09:00-09:30 (Corte)    â”‚
    â”‚    - 14:00-15:00 (Barba)    â”‚
    â”‚                             â”‚
    â”‚ 4. Generate slots (30min):  â”‚
    â”‚    [08:00, 08:30, 09:00,    â”‚
    â”‚     09:30, 10:00, 10:30,    â”‚
    â”‚     11:00, 11:30, ...]      â”‚
    â”‚                             â”‚
    â”‚ 5. Filter (cabe 30min?):    â”‚
    â”‚    - 08:00 âœ… (livre)       â”‚
    â”‚    - 08:30 âœ… (livre)       â”‚
    â”‚    - 09:00 âŒ (ocupado)     â”‚
    â”‚    - 09:30 âœ… (livre)       â”‚
    â”‚    - 10:00 âœ… (livre)       â”‚
    â”‚    - 14:00 âŒ (ocupado)     â”‚
    â”‚    - 14:30 âŒ (ocupado)     â”‚
    â”‚    - 15:00 âœ… (livre)       â”‚
    â”‚                             â”‚
    â”‚ 6. Return response          â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â”‚ JSON Response:
             â”‚ {
             â”‚   horariosDisponiveis: [
             â”‚     "08:00", "08:30", "09:30",
             â”‚     "10:00", "10:30", "11:00",
             â”‚     "11:30", "12:00", "12:30",
             â”‚     "13:00", "13:30", "15:00",
             â”‚     "15:30", "16:00", "16:30",
             â”‚     "17:00", "17:30"
             â”‚   ],
             â”‚   duracao: "30 minutos"
             â”‚ }
             â”‚
             â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Frontend - Browser           â”‚
    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
    â”‚ Display HorÃ¡rios DisponÃ­veisâ”‚
    â”‚ [08:00] [08:30] [09:30]     â”‚
    â”‚ [10:00] [10:30] [11:00]     â”‚
    â”‚ [11:30] [12:00] [12:30]     â”‚
    â”‚ [13:00] [13:30] [15:00]     â”‚
    â”‚ [15:30] [16:00] [16:30]     â”‚
    â”‚ [17:00] [17:30]             â”‚
    â”‚                             â”‚
    â”‚ Cliente clica: "10:00"       â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
         â”Œâ”€â”€â”€â”€â”€â”
         â”‚ âœ…  â”‚ HorÃ¡rio selecionado: 10:00
         â””â”€â”€â”€â”€â”€â”˜
```

---

## FLUXO 2: CLIENTE CONFIRMA AGENDAMENTO

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Cliente confirma         â”‚
â”‚ "Reservar para 10:00"    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Frontend (agendamento.html)          â”‚
    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
    â”‚ Enviar dados:                        â”‚
    â”‚ {                                    â”‚
    â”‚   barbeiro_id: 1,                    â”‚
    â”‚   servico_id: 3,                     â”‚
    â”‚   data_agendada: "2024-01-16",       â”‚
    â”‚   hora_inicio: "10:00"               â”‚
    â”‚ }                                    â”‚
    â”‚                                      â”‚
    â”‚ + JWT Token no header                â”‚
    â”‚ Authorization: Bearer eyJhbGc...     â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â”‚ POST /agendamentos
             â”‚
             â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Backend - AppointmentCtrl   â”‚
    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
    â”‚ 1. Verificar Token JWT      â”‚
    â”‚    usuario_id = 123 âœ…      â”‚
    â”‚                             â”‚
    â”‚ 2. Validar campos:          â”‚
    â”‚    - barbeiro_id: 1 âœ…      â”‚
    â”‚    - servico_id: 3 âœ…       â”‚
    â”‚    - data: 2024-01-16 âœ…    â”‚
    â”‚    - hora: 10:00 âœ…         â”‚
    â”‚                             â”‚
    â”‚ 3. Query servico:           â”‚
    â”‚    SELECT duracao_servico   â”‚
    â”‚    FROM servicos WHERE id=3 â”‚
    â”‚    Result: 30 minutos       â”‚
    â”‚                             â”‚
    â”‚ 4. Calcular hora_fim:       â”‚
    â”‚    10:00 + 30min = 10:30    â”‚
    â”‚                             â”‚
    â”‚ 5. Verificar conflito:      â”‚
    â”‚    SELECT COUNT(*) FROM     â”‚
    â”‚    agendamentos WHERE       â”‚
    â”‚    barbeiro_id=1 AND        â”‚
    â”‚    data='2024-01-16' AND    â”‚
    â”‚    hora_inicio < 10:30 AND  â”‚
    â”‚    hora_fim > 10:00 AND     â”‚
    â”‚    status != 'cancelado'    â”‚
    â”‚                             â”‚
    â”‚    Result: 0 âœ… (OK!)       â”‚
    â”‚                             â”‚
    â”‚ 6. Inserir agendamento:     â”‚
    â”‚    INSERT INTO              â”‚
    â”‚    agendamentos             â”‚
    â”‚    (usuario_id: 123,        â”‚
    â”‚     barbeiro_id: 1,         â”‚
    â”‚     servico_id: 3,          â”‚
    â”‚     data: 2024-01-16,       â”‚
    â”‚     hora_inicio: 10:00,     â”‚
    â”‚     hora_fim: 10:30,        â”‚
    â”‚     status: 'confirmado')   â”‚
    â”‚                             â”‚
    â”‚    Resultado: id = 999 âœ…   â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â”‚ Response (201 Created):
             â”‚ {
             â”‚   success: true,
             â”‚   appointment: {
             â”‚     id: 999,
             â”‚     hora_inicio: "10:00",
             â”‚     hora_fim: "10:30",
             â”‚     status: "confirmado"
             â”‚   }
             â”‚ }
             â”‚
             â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Frontend - Sucesso!                  â”‚
    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
    â”‚ âœ… Agendamento confirmado            â”‚
    â”‚                                      â”‚
    â”‚ Detalhes:                            â”‚
    â”‚ JoÃ£o - Corte (30 min)                â”‚
    â”‚ 16 de janeiro, 10:00                 â”‚
    â”‚ ID: #999                             â”‚
    â”‚                                      â”‚
    â”‚ [Ir para Home] [Enviar Email]        â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## FLUXO 3: CONFLITO - OUTRO CLIENTE TENTA MESMO HORÃRIO

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Outro Cliente (ID: 456)      â”‚
â”‚ Tenta agendar 10:15          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Backend - VerificaÃ§Ã£o               â”‚
    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
    â”‚ Request:                             â”‚
    â”‚ {                                    â”‚
    â”‚   barbeiro_id: 1,                    â”‚
    â”‚   servico_id: 3,                     â”‚
    â”‚   data_agendada: "2024-01-16",       â”‚
    â”‚   hora_inicio: "10:15"               â”‚
    â”‚ }                                    â”‚
    â”‚                                      â”‚
    â”‚ 1. Calcula duraÃ§Ã£o = 30 min          â”‚
    â”‚    hora_fim = 10:15 + 30 = 10:45    â”‚
    â”‚                                      â”‚
    â”‚ 2. Verifica OVERLAP:                 â”‚
    â”‚    Slot desejado: 10:15 - 10:45     â”‚
    â”‚    Agendamento anterior: 10:00 - 10:30  â”‚
    â”‚                                      â”‚
    â”‚    AnÃ¡lise:                          â”‚
    â”‚    - hora_inicio (10:15) < hora_fim anterior (10:30)? SIM âœ…   â”‚
    â”‚    - hora_fim (10:45) > hora_inicio anterior (10:00)? SIM âœ…   â”‚
    â”‚    â†’ OVERLAP DETECTADO!              â”‚
    â”‚                                      â”‚
    â”‚ 3. Rejeita:                          â”‚
    â”‚    Erro 409 Conflict                 â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â”‚ Response (409):
             â”‚ {
             â”‚   success: false,
             â”‚   message: "HorÃ¡rio indisponÃ­vel
             â”‚   para este barbeiro",
             â”‚   status: 409
             â”‚ }
             â”‚
             â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Frontend - Erro                      â”‚
    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
    â”‚ âŒ Desculpe, este horÃ¡rio foi        â”‚
    â”‚    ocupado por outro cliente.        â”‚
    â”‚                                      â”‚
    â”‚ [Voltar] [Escolher outro horÃ¡rio]   â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## FLUXO 4: BARBEIRO BLOQUEIA ALMOÃ‡O

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Barbeiro JoÃ£o                â”‚
â”‚ "Quero pausar 12:00-13:00"   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Backend - POST /bloqueios             â”‚
    â”‚ (ou admin insere direto em DB)        â”‚
    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
    â”‚ INSERT INTO bloqueios:                â”‚
    â”‚ (id_barbeiro: 1,                      â”‚
    â”‚  data: 2024-01-16,                    â”‚
    â”‚  hora_inicio: 12:00,                  â”‚
    â”‚  hora_fim: 13:00,                     â”‚
    â”‚  descricao: "AlmoÃ§o")                 â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Agora no banco de dados:             â”‚
    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
    â”‚ AGENDAMENTOS (16/01):                â”‚
    â”‚ 09:00-09:30 (Cliente X)              â”‚
    â”‚ 10:00-10:30 (Cliente Y)              â”‚
    â”‚ 14:00-15:00 (Cliente Z)              â”‚
    â”‚                                      â”‚
    â”‚ BLOQUEIOS (16/01):                   â”‚
    â”‚ 12:00-13:00 (AlmoÃ§o)                 â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ PrÃ³ximo cliente pede GET              â”‚
    â”‚ /agendamentos/disponiveis...          â”‚
    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
    â”‚ Backend faz UNION:                   â”‚
    â”‚ SELECT hora_inicio, hora_fim FROM    â”‚
    â”‚   (agendamentos + bloqueios)          â”‚
    â”‚                                      â”‚
    â”‚ Resultado:                            â”‚
    â”‚ - 09:00-09:30 (agendamento)          â”‚
    â”‚ - 10:00-10:30 (agendamento)          â”‚
    â”‚ - 12:00-13:00 (bloqueio) â† NOVO!    â”‚
    â”‚ - 14:00-15:00 (agendamento)          â”‚
    â”‚                                      â”‚
    â”‚ Filtra slots de 30 min disponÃ­veis:  â”‚
    â”‚ [08:00, 08:30, 10:30, 11:00,         â”‚
    â”‚  11:30, 13:00, 13:30, 15:00, ...]    â”‚
    â”‚                                      â”‚
    â”‚ âŒ NÃ£o mostra: 12:00, 12:30          â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## FLUXO 5: VISÃƒO GERAL DO BANCO DE DADOS

```
ANTES (Vazio):
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  agendamentos    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ (vazio)          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  bloqueios       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ (vazio)          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

DEPOIS (Com dados):
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  AGENDAMENTOS - 16 de Janeiro 2024                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ID â”‚ Usuario â”‚ Barbeiro â”‚ Servico â”‚ Inicio â”‚ Fim â”‚ Status  â”‚
â”œâ”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 1  â”‚ 123     â”‚ 1 (JoÃ£o) â”‚ 3(Corte)â”‚ 09:00  â”‚ 09:30â”‚ confirmadoâ”‚
â”‚ 2  â”‚ 456     â”‚ 1 (JoÃ£o) â”‚ 3(Corte)â”‚ 10:00  â”‚ 10:30â”‚ confirmadoâ”‚
â”‚ 3  â”‚ 789     â”‚ 1 (JoÃ£o) â”‚ 1(Barba)â”‚ 14:00  â”‚ 14:30â”‚ confirmadoâ”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  BLOQUEIOS - 16 de Janeiro 2024                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ID â”‚ Barbeiro â”‚ Data â”‚ Inicio â”‚ Fim   â”‚ Desc       â”‚
â”œâ”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 1  â”‚ 1 (JoÃ£o) â”‚ 16/01â”‚ 12:00  â”‚ 13:00 â”‚ AlmoÃ§o     â”‚
â”‚ 2  â”‚ 1 (JoÃ£o) â”‚ 17/01â”‚ 08:00  â”‚ 09:00 â”‚ ReuniÃ£o    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

RESULTADO VISUAL:
16 de Janeiro - JoÃ£o (Barbeiro)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  8:00  â”‚â–‘â–‘â–‘â–‘â–‘â”‚ 9:00 â”‚XXXXXâ”‚ 10:00 â”‚â–‘â–‘â–‘â–‘â”‚ 11:00â”‚
â”‚        â”‚ 9:00â”‚      â”‚ 9:30â”‚       â”‚ 10:30     â”‚
â”‚        â”‚(Corte)    â”‚    â”‚ (Corte)            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 11:00  â”‚ 12:00 â”‚â–‘â–‘â–‘â–‘â–‘â–‘â–‘â”‚ 13:00 â”‚ 14:00 â”‚XXXX  â”‚
â”‚        â”‚      â”‚â–‘â–‘â–‘â–‘â–‘â–‘â–‘â”‚       â”‚ (Barba)  â”‚
â”‚        â”‚ LIVRE â”‚ALMOÃ‡O â”‚ LIVRE â”‚ 14:30   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 14:30  â”‚ 15:00 â”‚â–‘â–‘â–‘â–‘â”‚ 16:00 â”‚â–‘â–‘â–‘â”‚ 17:00 â”‚â–‘â–‘â–‘â–‘â”‚
â”‚        â”‚  LIVRE    â”‚LIVRE     â”‚LIVRE     â”‚ 18:00â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Legenda:
â–ˆ = Agendamento bloqueado (XXXX)
â–‘ = Bloqueio manual (almoÃ§o, etc)
  = HorÃ¡rio disponÃ­vel
```

---

## RESUMO EM 1 IMAGEM

```
        â”Œâ”€ GET HORÃRIOS â”€â”
        â”‚ (Frontend)     â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
         â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚ Backend Calculaâ”‚
         â”‚ Conflitos      â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
         â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚ Return Slots   â”‚
         â”‚ DisponÃ­veis    â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
         â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚ Cliente Seleciona  â”‚
         â”‚ Slot: 10:00        â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
       â”‚ POST AGENDAMENTO  â”‚
       â”‚ hora_inicio: 10:00â”‚
       â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚ Backend:        â”‚
        â”‚ 1. Calcula fim  â”‚
        â”‚ 2. Checa overlapâ”‚
        â”‚ 3. Insere BD    â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
         â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚ âœ… Sucesso      â”‚
         â”‚ Agendamento OK! â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

Agora vocÃª entende o fluxo completo! ğŸš€
